{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./login.service\";\nclass AuthService {\n  constructor(loginService) {\n    this.loginService = loginService;\n    this._isLoggedIn$ = new BehaviorSubject(false);\n    this.isLoggedIn$ = this._isLoggedIn$.asObservable();\n    const token = localStorage.getItem('auth');\n    this._isLoggedIn$.next(!!token);\n  }\n  login(loginData) {\n    return this.loginService.login(loginData).pipe(tap(response => {\n      this._isLoggedIn$.next(true);\n      localStorage.setItem('auth', response.token);\n    }));\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.LoginService));\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});\nexport { AuthService };","map":{"version":3,"names":["BehaviorSubject","tap","AuthService","constructor","loginService","_isLoggedIn$","isLoggedIn$","asObservable","token","localStorage","getItem","next","login","loginData","pipe","response","setItem","i0","ɵɵinject","i1","LoginService","factory","ɵfac","providedIn"],"sources":["/Users/zpietrza/Desktop/MaNS/software_monitoring/webui/angular-app/src/app/auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { LoginService } from \"./login.service\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthService {\n    private _isLoggedIn$ = new BehaviorSubject<boolean>(false);\n    isLoggedIn$ = this._isLoggedIn$.asObservable();\n\n    constructor(private loginService: LoginService) {\n        const token = localStorage.getItem('auth');\n        this._isLoggedIn$.next(!!token);\n    }\n\n    login(loginData: any) {\n        return this.loginService.login(loginData).pipe(\n            tap((response: any) => {\n                this._isLoggedIn$.next(true);\n                localStorage.setItem('auth', response.token);\n            })\n        );\n    }\n\n}\n"],"mappings":"AACA,SAASA,eAAe,QAAQ,MAAM;AACtC,SAASC,GAAG,QAAQ,gBAAgB;;;AAGpC,MAGaC,WAAW;EAIpBC,YAAoBC,YAA0B;IAA1B,KAAAA,YAAY,GAAZA,YAAY;IAHxB,KAAAC,YAAY,GAAG,IAAIL,eAAe,CAAU,KAAK,CAAC;IAC1D,KAAAM,WAAW,GAAG,IAAI,CAACD,YAAY,CAACE,YAAY,EAAE;IAG1C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC1C,IAAI,CAACL,YAAY,CAACM,IAAI,CAAC,CAAC,CAACH,KAAK,CAAC;EACnC;EAEAI,KAAKA,CAACC,SAAc;IAChB,OAAO,IAAI,CAACT,YAAY,CAACQ,KAAK,CAACC,SAAS,CAAC,CAACC,IAAI,CAC1Cb,GAAG,CAAEc,QAAa,IAAI;MAClB,IAAI,CAACV,YAAY,CAACM,IAAI,CAAC,IAAI,CAAC;MAC5BF,YAAY,CAACO,OAAO,CAAC,MAAM,EAAED,QAAQ,CAACP,KAAK,CAAC;IAChD,CAAC,CAAC,CACL;EACL;;AAhBSN,WAAW,C;mBAAXA,WAAW,EAAAe,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,YAAA;AAAA;AAAXlB,WAAW,C;SAAXA,WAAW;EAAAmB,OAAA,EAAXnB,WAAW,CAAAoB,IAAA;EAAAC,UAAA,EAFR;AAAM;SAETrB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}